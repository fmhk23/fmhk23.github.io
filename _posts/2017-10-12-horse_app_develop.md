---
title: "競馬解析アプリ開発日誌"
date: "2017/10/12"
output: rmarkdown::html_vignette
sidebar: base_sidebar
permalink: horse_app_develop.html
keywords: 競馬
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## アプリ開発の経緯
2016年度、競馬に関する研究をぼちぼちやっておりました。
しかしながら11月から始まったトランプラリー、翌年には暗号通貨への投資も始め、全く競馬に回せるリソース（資金と時間）がなくなりました。
これ自体は正しい選択でした。株でも暗号通貨でも、多くのお金を得ることができました。
競馬ではかなり望み薄の金額ですし、ひょっとしたら失っていたかもしれません。

だが、研究成果を無駄にして良いものか？きちんとエッジとなる強みは見つけていました。
これはあまり他の人が気づいていない傾向のような気がします。
そう思っているときは得てして危ないのが投資の世界ですが、知ってしまった以上やってみたくなるのが性です。

資金をきちんと用意して、己の戦略を信じて馬券を購入し続ければプラス収支にできるのではないか？
そもそも競馬は楽しい。馬と人間たちのドラマがある。今年は推しの2歳馬も出走する。

ということで、以前の研究成果をブラッシュアップして馬券を買ってみたいと思います。
今まではR Studio上でデータを手でいじって色々見ていましたが、流石にその方法は限界です。
去年までと違うのは、Webアプリを開発する経験を積み、DB周りの知識も多少なりとも増強したところです。

要件を整理し、ポチポチ操作で自分の知りたい情報を取れるアプリケーションを作成しましょう。

### 対象レースを指定すると、自分の欲しい情報（エッジ）を整理して一覧表示してくれる。いわばマイ馬柱。

これに関してはひとまず、早急に作れるR Shiny Appを作ります。データは簡便のためファイルで済ませます。
その後DBをきちんと定義し、Djangoに移植します。

### 分析のブラッシュアップ、バックテストの充実
これに関しては一旦後回しとしたいと思います。

## 10/12

- Rからpythonを叩く機能の実装
- レース情報の取得→ファイル保存
- レースに出走する馬情報の取得→ファイル保存

Rとpython間のデータのやり取りは効率的ではないので、ファイルにいちいち保存します。
これも効率的とは言い難いですが、早急に作る必要があるためこの方針を取ります。
昔書いた資材を出来ればR6クラス化、パッケージ化したいですが、期限内にやるのは難しそうです。
source()を用いて対応するつもりです。
いずれはやらないとDjango化するときに困りますね。分析も全部pythonで書けよという話ですが・・・  
